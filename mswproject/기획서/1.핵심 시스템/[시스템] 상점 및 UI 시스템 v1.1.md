## 1. 기획 의도

- 플레이어가 한 위치에서만 방어하는 '캠핑' 플레이를 방지하고, 맵의 4방향을 고루 활용하도록 유도합니다.
    
- 상점 이용 후 상점이 강제로 이동됨으로써, 생존을 위한 전략적 이동 동선을 지속적으로 만들어냅니다.
- 상점 예시
    ![[Pasted image 20260219144659.png]]![[Pasted image 20260219144715.png]]

## 2. 유저 플로우

1. **게임 시작/탐색**: 맵의 4개 거점(동/서/남/북) 중 한 곳에 상점이 활성화되어 있는 것을 발견합니다.
    
2. **접근 및 상호작용**: 상점의 상호작용 범위 내로 접근하여 'F'키를 입력합니다.
    
3. **상점 이용 (일시정지)**: 게임이 즉시 일시 정지(Time Scale 0)되며, 배경이 어두워지고 상점 UI가 팝업됩니다.
    
4. **물품 구매**: 골드가 충분하다면 회복, 탄약, 패시브 스킬을 구매합니다. (부족하면 버튼 비활성)
    
5. **UI 종료 및 상점 이동**: '닫기' 버튼이나 'ESC'를 눌러 상점을 나갑니다.
    
6. **순환 발생**:
    
    - 방금 이용한 상점은 즉시 사라집니다. (비활성화)
        
    - 남은 3곳 중 무작위 1곳에 새로운 상점이 즉시 생성됩니다. (활성화)
        
    - 게임 일시 정지가 해제됩니다.
7. 참고 이미지 
![[Pasted image 20260219144534.png]]
## 3. 수치 / 데이터

|                |                 |                                  |
| -------------- | --------------- | -------------------------------- |
| **항목**         | **값**           | **비고**                           |
| **상점 배치 개수**   | 4개              | 동(3시), 서(9시), 남(6시), 북(12시) 끝 중앙 |
| **초기 활성 상점**   | 1개              | 게임 시작 시 무작위 1곳 활성화               |
| **상호작용 키**     | F               | 키보드 입력 기준                        |
| **상호작용 거리**    | 반경 1.5m (150px) | 미정 시 기본값 제안. (캐릭터 충돌체 기준)        |
| **판매 슬롯 수**    | 3개              | 고정 2(포션, 탄약) + 랜덤 1(패시브)         |
| **슬롯 1 (회복)**  | 체력 30% 회복       | 가격: **미정** (기본 100G 제안)          |
| **슬롯 2 (탄약)**  | 주무기/보조무기 탄약 1세트 | 가격: **미정** (기본 50G 제안)           |
| **슬롯 3 (패시브)** | 랜덤 스킬 1종 등장     | 가격: **미정** (기본 200G 제안)          |
| **새로고침 여부**    | O (자동)          | 상점이 재활성화될 때마다 판매 목록 갱신           |

> 💡 **[개발 요청] 데이터 관리**: 가격, 회복량, 확률 등의 수치는 밸런스 조정이 빈번하므로, **DataTable**에서 기획자가 즉시 수정할 수 있도록 구조화 부탁드립니다.

## 4. 예외 상황 (~하면 어떻게 되나?)

- **구매 없이 닫기만 해도 이동하나?** - → **이동합니다.** 구매 여부와 상관없이 UI를 열었다 닫으면 '방문'으로 간주하여 상점을 이동시킵니다. (전략적 상점 이동 허용)
    
- **플레이어가 다음에 생성될 상점 위치에 서 있다면?**
    
    - → **정상 생성됩니다.** 상점은 충돌체(Collider)가 없어 플레이어를 밀어내지 않고, 겹쳐서 생성된 후 플레이어가 범위 밖으로 나갔다 들어오거나 범위 내에서 F키를 눌러 상호작용 가능합니다.
        
- **상점 UI가 열린 상태에서 피격되나?**
    
    - → **불가합니다.** 상점 진입 시 게임은 완전한 '일시 정지' 상태여야 합니다.
        
- **이미 모든 패시브를 다 배웠다면 슬롯 3은?**
    
    - → **'품절(Sold Out)'** 혹은 **'골드(환급)'**로 대체하여 표시합니다. (그러나 현재는 논의 필요)
    

## 5. 연관 시스템

- **인벤토리/재화 시스템**: 골드 차감 및 소지량 확인.
    
- **무기/체력 시스템**: 탄약 보충 및 HP 회복 적용.
    
- **입력 매니저(Input)**: F키 상호작용 및 UI 닫기(ESC).
    
- **HUD (미니맵)**: 미니맵에 현재 활성화된 상점 아이콘 표시.
    

## 6. 레퍼런스

- **탕탕특공대 (Survivor.io)**: 스킬 선택 팝업 UI 및 구성 방식 참고.
    
![[Pasted image 20260219144605.png]]
## 7. 우선순위

- [x] 🔴 최우선 (핵심 코어 루프)
    
- [ ] 🟡 중요
    
- [ ] 🟢 나중에