## 1. 기획 의도 (왜 필요한가?)

- 전투 중 지속적인 자원(재화, 탄창, 포션 등) 수급을 통해 플레이어의 생존 확률을 높이고 파밍과 성장의 재미를 제공하기 위해.
    
- 아이템이 사방으로 흩어지는 물리 연출과 자석처럼 끌려오는 획득 연출을 통해 시각적 쾌감과 편의성을 동시에 충족.
    

## 2. 유저 플로우 (플레이어가 뭘 하는가?)

1. 플레이어가 몬스터의 체력을 0으로 만들어 처치(사망 애니메이션 출력)합니다.
    
2. 몬스터 사망 위치를 중심으로 여러 개의 아이템이 겹치지 않게 사방으로 튕겨 나갑니다. (이때 공중에 떠 있는 동안은 획득할 수 없습니다.)
    
3. 아이템이 바닥에 완전히 안착한 후, 플레이어가 아이템 근처(일정 반경 내)로 다가갑니다.
    
4. 자석 효과가 발동되어 아이템이 벽이나 장애물을 통과하며 플레이어에게 날아오고, 캐릭터 몸에 닿는 순간 인벤토리에 누적(획득)됩니다.
    
5. 플로우 차트
 ![[Pasted image 20260221025154.png]]
## 3. 수치 / 데이터

| **항목**        | **값** | **비고**                               |
| ------------- | ----- | ------------------------------------ |
| 아이템 체공(튕김) 시간 | 미정    | 이 시간 동안은 획득 판정 비활성화 (예: 0.5초)        |
| 아이템 흩어짐 반경    | 미정    | 몬스터 중심점 기준 최대 확산 거리 (예: 반경 2m)       |
| 자석 효과 발동 범위   | 미정    | 플레이어 기준 끌어당기는 원형 반경 (예: 반경 3m)       |
| 아이템 획득 판정 범위  | 미정    | 캐릭터와 아이템 오브젝트가 닿는 실제 범위 (예: 반경 0.5m) |
| 일반/보스별 보상 확률  | 미정    | 데이터 테이블 연동 (보스/엘리트는 핵심 보상 100% 드랍)   |

> 💡 아직 안 정한 수치(체공 시간, 발동 반경 등)는 **"미정"**이라고 적어주세요. TD가 엔진 환경에 맞춰 제안합니다.

## 4. 예외 상황 (~하면 어떻게 되나?)

- **소비 아이템(체력 포션, 탄창)을 먹으면 바로 사용되나?** → 즉시 사용되지 않음. 인벤토리에 누적된 후 플레이어가 원할 때 단축키 등을 통해 꺼내어 사용.
    
- **필드에 아이템을 안 먹고 다음 스테이지(포탈)로 넘어가면?** → 포탈 진입 즉시 필드에 남아있는 모든 아이템은 소멸(증발) 처리됨.
    
- **[추가] 튕겨 나간 아이템이 절벽 밑이나 이동 불가 구역(낭떠러지)으로 떨어지면?** → 낙하 판정(Kill Z) 구역에 닿는 순간 플레이어 인벤토리로 자동 획득 처리하거나, 가장 가까운 평지(바닥)로 강제 이동시킴.
    
- **[추가] 인벤토리가 꽉 찬(Max) 상태에서 아이템 획득 범위로 들어가면?** → 자석 효과가 발동하지 않으며 아이템은 바닥에 그대로 남음. 화면 중앙에 "인벤토리가 가득 찼습니다"라는 플로팅 메시지 출력.
    
- **[추가] 자석 효과로 아이템이 날아오고 있는 도중에 플레이어가 포탈을 타거나 사망하면?** → 해당 아이템은 획득되지 않고 그 자리에서 즉시 증발(소멸) 처리.
    

## 5. 연관 시스템

- 몬스터 체력 및 사망 판정 시스템
    
- 드랍 확률/보상 데이터 테이블 시스템
    
- 인벤토리 시스템 (획득 시 아이템 및 재화 카운트)
    
- 스테이지 및 포탈(씬 이동) 시스템
    

## 6. 레퍼런스 (선택)

- **메이플스토리**: 몬스터 처치 시 동전과 아이템이 위로 통통 튀어 오르는 물리 효과 및 자석 펫의 장애물 관통 획득 연출.
    
- **뱀파이어 서바이버(Vampire Survivors)**: 경험치 보석이 바닥에 떨어지고 근처에 가면 플레이어에게 날아오는 효과.
    

## 7. 우선순위 (선택)

- [x] 🔴 최우선 (없으면 게임 안 됨) - 사망 시 테이블 기반 보상 생성 및 자석 효과 획득 로직
    
- [x] 🟡 중요 (있으면 훨씬 나음) - 아이템 중첩 방지를 위한 흩어짐 물리 연출 및 벽 충돌 처리
    
- [ ] 🟢 나중에 (여유 되면) - 아이템 다량 생성 시 렉 방지를 위한 메모리 최적화(오브젝트 풀링 등)