## 1. 기획 의도

- 플레이어의 이동 경로 주변에 끊임없이 몬스터를 등장시켜 전투의 긴장감을 유지합니다.
    
- 정해진 위치(고정 스폰)가 아닌 예측 불가능한 위치에서 적을 등장시켜, 매 플레이마다 다른 경험을 제공합니다.
    
- 게임 진행 시간(Time Flow)에 따라 몬스터 구성을 변화시켜 난이도 곡선을 조절합니다.

## 2. 유저 플로우

1. **이동 및 대기**: 플레이어가 필드를 이동하거나 머무릅니다.
    
2. **스폰 감지**: 플레이어 시야 밖(최소 반경)과 인지 가능 범위(최대 반경) 사이에서 몬스터가 생성됩니다.
    
    - _플레이어는 몬스터가 갑자기 팝업되는 것을 보지 못하도록 자연스러운 거리에서 등장해야 합니다._
        
3. **전투 단계**: 생성된 몬스터가 플레이어를 인지하고 추적해오며 전투가 시작됩니다.
    
4. **상황 변화**:
    
    - 1분 경과 시: 엘리트 몬스터가 섞여 나옵니다.
        
    - 14분 경과 시: 필드 중앙에 보스가 등장하며 일반 스폰이 중단됩니다.

## 3. 수치 / 데이터

### 3-1. 스폰 영역 (도넛 모양)

|   |   |   |
|---|---|---|
|**항목**|**값**|**비고**|
|**스폰 기준점**|플레이어 좌표|실시간 위치 기준|
|**최소 반경 (Inner)**|**미정 (예: 15m)**|플레이어 화면/시야 밖이어야 함 (갑툭튀 방지)|
|**최대 반경 (Outer)**|**미정 (예: 25m)**|몬스터가 등장해도 위화감이 없는 최대 거리|
|**스폰 각도**|0 ~ 360도|완전 랜덤|

### 3-2. 스폰 주기 및 수량

|   |   |   |
|---|---|---|
|**항목**|**값**|**비고**|
|**스폰 체크 주기**|**미정 (예: 5초)**|몇 초마다 스폰 로직을 돌릴 것인지|
|**회당 생성 수**|3마리|한 번 로직이 돌 때 생성되는 수|
|**필드 최대 유지 수**|**미정 (예: 30마리)**|_[추가제안]_ 렉 방지를 위한 상한선 필요|
|**좌표 산출 다시 실행**|**미정 (예: 10회)**|_[추가제안]_ 유효 좌표 못 찾을 시 **다시 실행(Retry)** 최대 횟수|

### 3-3. 시간대별 스폰 테이블

|   |   |   |
|---|---|---|
|**시간**|**등장 몬스터**|**비고**|
|**0분 ~ 1분**|일반 몬스터||
|**1분 ~ 14분**|일반 + 엘리트 몬스터||
|**14분 ~**|**보스 몬스터**|맵 정중앙(0,0) 고정 스폰. 추가 스폰 중단.|

## 4. 예외 상황

- **스폰 위치가 유효하지 않을 경우 (장애물, 맵 밖 등)?**
    
    - **[다시 실행 로직]**: 즉시 좌표를 다시 산출하여 스폰을 시도합니다.
        
    - 지정된 **최대 재시도 횟수(예: 10회)**를 초과할 때까지 성공하지 못하면, 이번 턴의 스폰은 생략합니다 (무한 루프 방지).
        
- **플레이어가 '안전 지대(상점, 컷신)'에 있으면?**
    
    - 스폰 타이머를 일시 정지(Pause)하여 생성하지 않음.
        
- **보스 스폰 위치(맵 중앙)에 플레이어가 서 있으면?**
    
    - 보스 등장 시 플레이어에게 충돌 데미지를 입히고 밀어냄(Knock-back).
        
- **플레이어가 몬스터를 안 잡고 멀리 도망가면?**
    
    - _[추가제안]_ 플레이어와 거리 **40m(예시)** 이상 벌어지면 해당 몬스터 즉시 삭제(메모리 반환).
        

## 5. 연관 시스템

- **맵 시스템 (NavMesh)**: 스폰 가능한 지형인지 판별 필요
    
- **타이머 시스템**: 스테이지 진행 시간(1분, 14분) 체크
    
- **전투/스탯 시스템**: 보스 충돌 데미지 처리
    

## 6. 레퍼런스

- 원본 기획서: `[시스템]몬스터_등장_시스템 v.1.1.pdf` 내 도넛 형태 다이어그램 참조
    

## 7. 우선순위

- [ ] 🔴 최우선: 도넛 범위 내 랜덤 좌표 산출 및 일반 몬스터 생성
    
- [ ] 🟡 중요: **스폰 실패 시 좌표 재산출(Retry) 로직 구현**
    
- [ ] 🟢 나중에: 끼임 방지 오프셋 고도화, 자연스러운 등장 연출