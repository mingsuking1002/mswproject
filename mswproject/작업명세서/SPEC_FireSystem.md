# ğŸŸ¢ ì™„ë£Œ
# SPEC_FireSystem â€” íƒ‘ë·° íƒ€ê²ŸíŒ… ë°œì‚¬ ì‹œìŠ¤í…œ

## 1. ê°œìš”

| í•­ëª© | ë‚´ìš© |
|---|---|
| **Component Name** | `FireSystemComponent`, `ProjectileComponent` |
| **ê¸°ëŠ¥ ìš”ì•½** | ë§ˆìš°ìŠ¤ í´ë¦­ ì¢Œí‘œ â†’ ì›”ë“œ ë³€í™˜ â†’ ìºë¦­í„° íšŒì „ â†’ íˆ¬ì‚¬ì²´ ìƒì„±/ë°œì‚¬ |
| **ê¸°íšì„œ ì°¸ì¡°** | `ê¸°íšì„œ/1.í•µì‹¬ ì‹œìŠ¤í…œ/[ì‹œìŠ¤í…œ] íƒ‘ë·° íƒ€ê²ŸíŒ… ë°œì‚¬ ì‹œìŠ¤í…œ.md` |
| **ëª¨ë“ˆí™” ë ˆì´ì–´** | `Combat` |

---

## 2. Execution Space

| ì²˜ë¦¬ ë‹¨ê³„ | ì‹¤í–‰ ê³µê°„ | ì„¤ëª… |
|---|---|---|
| ì¢Œí´ë¦­ ì…ë ¥ | `[client only]` | `_InputService` â†’ `ScreenTouchEvent` |
| ìŠ¤í¬ë¦°â†’ì›”ë“œ ì¢Œí‘œ ë³€í™˜ | `[client only]` | `_UILogic:ScreenToWorldPosition()` |
| ë°œì‚¬ ìš”ì²­ | Client â†’ Server | `@EventSender`ë¡œ ë°œì‚¬ ë°©í–¥ ì „ë‹¬ |
| ë°œì‚¬ ì¡°ê±´ ê²€ì¦ | `[server only]` | ì”íƒ„, ì¿¨íƒ€ì„, ìƒíƒœ ì²´í¬ |
| íˆ¬ì‚¬ì²´ ìƒì„± | `[server only]` | ì—”í‹°í‹° ìƒì„± + ì†ë„ ë¶€ì—¬ |
| íˆ¬ì‚¬ì²´ ì¶©ëŒ íŒì • | `[server only]` | TriggerEnter â†’ ë°ë¯¸ì§€ â†’ ì†Œë©¸ |
| ì´í™íŠ¸/ì‚¬ìš´ë“œ | `[client only]` | ì´êµ¬ í™”ì—¼, ë°œì‚¬ìŒ |

---

## 3. Properties

### FireSystemComponent

| Property Name | Type | Sync | Default | ì„¤ëª… |
|---|---|---|---|---|
| `FireCooldown` | `number` | `None` | `0.5` | ë°œì‚¬ ì¿¨íƒ€ì„ |
| `IsFireReady` | `boolean` | `Sync` | `true` | ë°œì‚¬ ê°€ëŠ¥ ì—¬ë¶€ |
| `CanAttack` | `boolean` | `Sync` | `true` | ê³µê²© ê°€ëŠ¥ ìƒíƒœ |
| `MuzzleOffset` | `Vector2` | `None` | `(0.5, 0.2)` | ì´êµ¬ ìœ„ì¹˜ ë³´ì • |
| `ProjectileModelId` | `string` | `None` | `""` | íˆ¬ì‚¬ì²´ ëª¨ë¸ ID |

### ProjectileComponent

| Property Name | Type | Sync | Default | ì„¤ëª… |
|---|---|---|---|---|
| `Speed` | `number` | `None` | `20.0` | íˆ¬ì‚¬ì²´ ë¹„í–‰ ì†ë„ |
| `MaxRange` | `number` | `None` | `15.0` | ìµœëŒ€ ì‚¬ê±°ë¦¬ |
| `Lifetime` | `number` | `None` | `2.0` | ìµœëŒ€ ìƒì¡´ ì‹œê°„ |
| `Damage` | `integer` | `None` | `10` | ê¸°ë³¸ ë°ë¯¸ì§€ |
| `Spread` | `number` | `None` | `0` | íƒ„ í¼ì§ ê°ë„ |

---

## 4. ì‚¬ìš© ì„œë¹„ìŠ¤ & API

| ì„œë¹„ìŠ¤/API | ìš©ë„ |
|---|---|
| `_InputService` | ì¢Œí´ë¦­ ê°ì§€ |
| `_UILogic` | ScreenToWorldPosition() |
| `_TimerService` | ë°œì‚¬ ì¿¨íƒ€ì„ íƒ€ì´ë¨¸ |
| `_EntityService` | íˆ¬ì‚¬ì²´ ì—”í‹°í‹° ë™ì  ìƒì„± |
| `TriggerComponent` | íˆ¬ì‚¬ì²´ ì¶©ëŒ ê°ì§€ |

---

## 5. ë¡œì§ íë¦„

### 5-1. ë°œì‚¬ ìš”ì²­ (í´ë¼ì´ì–¸íŠ¸)
1. ì¢Œí´ë¦­ â†’ ìŠ¤í¬ë¦°â†’ì›”ë“œ ë³€í™˜ â†’ ì¡°ê±´ ì²´í¬ â†’ ì„œë²„ ìš”ì²­

### 5-2. ë°œì‚¬ ì‹¤í–‰ (ì„œë²„)
1. ì¡°ê±´ ì¬ê²€ì¦ â†’ ë°©í–¥ ë²¡í„° â†’ íˆ¬ì‚¬ì²´ ìƒì„± â†’ ì”íƒ„ ì°¨ê° â†’ ì¿¨íƒ€ì„ ì„¤ì •

### 5-3. íˆ¬ì‚¬ì²´ ì§„í–‰ (ì„œë²„)
- ì  ì¶©ëŒ: ë°ë¯¸ì§€ â†’ ì†Œë©¸ / ì§€í˜• ì¶©ëŒ: ì†Œë©¸ / ì‚¬ê±°ë¦¬ ì´ˆê³¼: ì†Œë©¸

---

## 6. Maker ë°°ì¹˜ (Codex MCP ì‹¤í–‰) âš ï¸ í•„ìˆ˜ ê²€í† 

### 6-1. UI ì—”í‹°í‹° (`DefaultGroup.ui`)

í•´ë‹¹ ì—†ìŒ

### 6-2. ë§µ ì—”í‹°í‹° (`lobby.map`)

| ì‘ì—… | ì—”í‹°í‹° ê²½ë¡œ | ì»´í¬ë„ŒíŠ¸ | ì†ì„± | ë¹„ê³  |
|---|---|---|---|---|
| `í™•ì¸` | `/maps/lobby/GRProjectileTemplate` | `TransformComponent`, `script.ProjectileComponent`, `SpriteRendererComponent`, `TriggerComponent` | `enable: false` | íˆ¬ì‚¬ì²´ í…œí”Œë¦¿ ì—”í‹°í‹° |

### 6-3. ê¸€ë¡œë²Œ/ëª¨ë¸

í•´ë‹¹ ì—†ìŒ

### 6-4. ì»´í¬ë„ŒíŠ¸ ë¶€ì°© ê´€ê³„

| ì—”í‹°í‹° ê²½ë¡œ | ë¶€ì°©í•  ì»´í¬ë„ŒíŠ¸ | ì„¤ì •í•  Property | ë¹„ê³  |
|---|---|---|---|
| Player Entity (Bootstrap ìë™) | `script.FireSystemComponent` | `FireCooldown=0.5` | ìë™ ë¶€ì°© |
| GRProjectileTemplate | `script.ProjectileComponent` | `Speed=20, Damage=10` | íˆ¬ì‚¬ì²´ í…œí”Œë¦¿ |

---

## 7. ì—°ë™ ì»´í¬ë„ŒíŠ¸

| ì»´í¬ë„ŒíŠ¸ | ë ˆì´ì–´ | ì—°ë™ ë°©ì‹ |
|---|---|---|
| `ReloadComponent` | Combat | ì”íƒ„ ì°¸ì¡° â€” 0ì´ë©´ ë°œì‚¬ ì°¨ë‹¨ |
| `WeaponSwapComponent` | Meta | í˜„ì¬ ë¬´ê¸° ì¿¨íƒ€ì„/ë°ë¯¸ì§€/íˆ¬ì‚¬ì²´ ID |
| `MovementComponent` | Core | ë°œì‚¬ ë°©í–¥ìœ¼ë¡œ ìºë¦­í„° íšŒì „ |
| `HPSystemComponent` | Combat | ì â†’í”Œë ˆì´ì–´ í”¼ê²© ì‹œ HP ì°¨ê° |

---

## 8. ì£¼ì˜/ìµœì í™” í¬ì¸íŠ¸

- íˆ¬ì‚¬ì²´ í’€ë§ ê³ ë ¤ (ëŒ€ëŸ‰ ë°œì‚¬ ì‹œ ì„±ëŠ¥)
- ì¿¨íƒ€ì„ ì¤‘ ì¬í´ë¦­ â†’ ì…ë ¥ ì™„ì „ ë¬´ì‹œ
- ì´ë¯¸ ë°œì‚¬ëœ íˆ¬ì‚¬ì²´ëŠ” ë°œì‚¬ ì‹œì  ë°ë¯¸ì§€ ìœ ì§€

---

## 9. Codex êµ¬í˜„ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] `@Component` ì–´íŠ¸ë¦¬ë·°íŠ¸, `Combat` ë ˆì´ì–´
- [ ] `_GRUtil` ì‚¬ìš© (ì¤‘ë³µ ìœ í‹¸ ê¸ˆì§€)
- [ ] `[server only]` / `[client only]` ë¶„ë¦¬
- [ ] `nil`/`isvalid` ë°©ì–´ + `pcall` ë³´í˜¸
- [ ] **Maker ë°°ì¹˜ (Â§6) ì™„ë£Œ** â€” ProjectileTemplate í™•ì¸
- [ ] `ê¸°íšì„œ/4.ë¶€ë¡/Code_Documentation.md` ì—…ë°ì´íŠ¸
- [ ] ì™„ë£Œ í›„ ìƒíƒœ `ğŸŸ¢ ì™„ë£Œ`ë¡œ ë³€ê²½

---

## ë©”íƒ€ ì •ë³´

| í•­ëª© | ë‚´ìš© |
|---|---|
| **ì‘ì„±ì** | Antigravity (TD) |
| **ë‹´ë‹¹ì** | Codex |
| **ì‘ì„±ì¼** | 2026-02-18 |
| **ìƒíƒœ** | ğŸŸ¢ ì™„ë£Œ |
