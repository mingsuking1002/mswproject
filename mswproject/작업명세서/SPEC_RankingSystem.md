# ğŸŸ¢ ì™„ë£Œ
# SPEC_RankingSystem â€” ë­í‚¹(ë¦¬ë”ë³´ë“œ) ì‹œìŠ¤í…œ

## 1. ê°œìš”

| í•­ëª©                 | ë‚´ìš©                                       |
| ------------------ | ---------------------------------------- |
| **Component Name** | `RankingComponent`, `RankingUIComponent` |
| **ê¸°ëŠ¥ ìš”ì•½**          | íƒ€ì„ì–´íƒ/ë¬´í•œëª¨ë“œ ì´ì¤‘ ë¦¬ë”ë³´ë“œ, ì„œë²„ ì €ì¥, Top 100 + ë‚´ ìˆœìœ„ |
| **ê¸°íšì„œ ì°¸ì¡°**         | `ê¸°íšì„œ/1.í•µì‹¬ ì‹œìŠ¤í…œ/[ì‹œìŠ¤í…œ] ë­í‚¹ ì‹œìŠ¤í…œ ê¸°íš.md`        |
| **ëª¨ë“ˆí™” ë ˆì´ì–´**        | `Meta` (Ranking) / `UI` (RankingUI)      |

---

## 2. Execution Space

| ì²˜ë¦¬ ë‹¨ê³„ | ì‹¤í–‰ ê³µê°„ | ì„¤ëª… |
|---|---|---|
| ê¸°ë¡ ë¹„êµ (ì‹ ê¸°ë¡ ì²´í¬) | `[server only]` | ê²°ê³¼ í™”ë©´ ì‹œì  |
| ì„œë²„ì— ì ìˆ˜ ì „ì†¡ | `[server only]` | `_LeaderBoardService` |
| ë­í‚¹ ë°ì´í„° ìš”ì²­ | `[client]` â†’ `[server]` | ë­í‚¹ ì°½ ì˜¤í”ˆ ì‹œ |
| ë­í‚¹ UI í‘œì‹œ | `[client only]` | ë¦¬ìŠ¤íŠ¸ ë Œë”ë§ |

---

## 3. Properties

### RankingComponent

| Property Name | Type | Sync | Default | ì„¤ëª… |
|---|---|---|---|---|
| `TimeAttackBestTime` | `number` | `None` | `-1` | íƒ€ì„ì–´íƒ ìµœê³  ê¸°ë¡ |
| `InfiniteModeBestKills` | `integer` | `None` | `0` | ë¬´í•œëª¨ë“œ ìµœê³  ì²˜ì¹˜ìˆ˜ |

### RankingUIComponent

| Property Name | Type | Sync | Default | ì„¤ëª… |
|---|---|---|---|---|
| `CurrentTab` | `integer` | `None` | `1` | í˜„ì¬ íƒ­ (1=íƒ€ì„ì–´íƒ) |
| `DisplayCount` | `integer` | `None` | `100` | í‘œì‹œí•  ìµœëŒ€ ìˆœìœ„ ìˆ˜ |

---

## 4. ì‚¬ìš© ì„œë¹„ìŠ¤ & API

| ì„œë¹„ìŠ¤/API | ìš©ë„ |
|---|---|
| `_LeaderBoardService` | ì ìˆ˜ ë“±ë¡/ì¡°íšŒ |
| `_DataStorageService` | ë¡œì»¬ ê°œì¸ ìµœê³  ê¸°ë¡ |
| `_UserService` | ìœ ì € ë‹‰ë„¤ì„ ì¡°íšŒ |

---

## 5. ë¡œì§ íë¦„

### 5-1. ê¸°ë¡ ì œì¶œ
í´ë¦¬ì–´ â†’ ê°œì¸ ìµœê³  ë¹„êµ â†’ ì‹ ê¸°ë¡ì´ë©´ LeaderBoard ì „ì†¡ + ë¡œì»¬ ê°±ì‹ 

### 5-2. ë­í‚¹ ì¡°íšŒ
ì°½ ì˜¤í”ˆ â†’ Top 100 + ë‚´ ìˆœìœ„ ìš”ì²­ â†’ í´ë¼ì´ì–¸íŠ¸ ë Œë”ë§

### 5-3. UI êµ¬ì¡°
íƒ­(íƒ€ì„ì–´íƒ/ë¬´í•œëª¨ë“œ) + ë¦¬ìŠ¤íŠ¸(ìˆœìœ„, ë‹‰ë„¤ì„, ê¸°ë¡, ê°±ì‹ ì¼) + ë‚´ ìˆœìœ„(í•˜ë‹¨ ê³ ì •)

---

## 6. Maker ë°°ì¹˜ (Codex MCP ì‹¤í–‰) âš ï¸ í•„ìˆ˜ ê²€í† 

### 6-1. UI ì—”í‹°í‹° (`DefaultGroup.ui`)

| ì‘ì—… | ì—”í‹°í‹° | ì»´í¬ë„ŒíŠ¸ | ì´ˆê¸° ìƒíƒœ | ìœ„ì¹˜/í¬ê¸° | ë¹„ê³  |
|---|---|---|---|---|---|
| `í™•ì¸` | `GRRankingText` | `UITransformComponent`, `TextComponent` | `enable: true` | ë¡œë¹„ í™”ë©´ | ë­í‚¹ ìš”ì•½ í…ìŠ¤íŠ¸ |
| `í™•ì¸` | `GRMyRankText` | `UITransformComponent`, `TextComponent` | `enable: true` | ë¡œë¹„ í™”ë©´ | ë‚´ ìˆœìœ„ í‘œì‹œ |

### 6-2. ë§µ ì—”í‹°í‹°

í•´ë‹¹ ì—†ìŒ

### 6-3. ê¸€ë¡œë²Œ/ëª¨ë¸

í•´ë‹¹ ì—†ìŒ

### 6-4. ì»´í¬ë„ŒíŠ¸ ë¶€ì°© ê´€ê³„

| ì—”í‹°í‹° ê²½ë¡œ | ë¶€ì°©í•  ì»´í¬ë„ŒíŠ¸ | ì„¤ì •í•  Property | ë¹„ê³  |
|---|---|---|---|
| Player Entity (Bootstrap ìë™) | `script.RankingComponent` | ê¸°ë³¸ê°’ | ìë™ ë¶€ì°© |
| Player Entity (Bootstrap ìë™) | `script.RankingUIComponent` | `DisplayCount=100` | ìë™ ë¶€ì°© |

---

## 7. ì—°ë™ ì»´í¬ë„ŒíŠ¸

| ì»´í¬ë„ŒíŠ¸ | ë ˆì´ì–´ | ì—°ë™ ë°©ì‹ |
|---|---|---|
| `SpeedrunTimerComponent` | Meta | `ElapsedTime` ìˆ˜ì‹  â†’ íƒ€ì„ì–´íƒ ê¸°ë¡ |
| `LobbyFlowComponent` | Bootstrap | ë¡œë¹„ ì§„ì… ì‹œ ë­í‚¹ ìë™ ì¡°íšŒ |
| `HUDComponent` | UI | ë­í‚¹ íŒì—… ì—´ê¸°/ë‹«ê¸° |

---

## 8. ì£¼ì˜/ìµœì í™” í¬ì¸íŠ¸

- ê²Œì„ í”Œë ˆì´ ì¤‘ì—ëŠ” ì„œë²„ ì €ì¥ ì•ˆ í•¨ â€” ê²°ê³¼ í™”ë©´ì—ì„œë§Œ
- ë™ì ì ì²˜ë¦¬: ë¨¼ì € ë‹¬ì„±í•œ ìœ ì € ìš°ì„  (ì„œë²„ íƒ€ì„ìŠ¤íƒ¬í”„)
- MSW `_LeaderBoardService` API í™•ì¸ í•„ìš”

---

## 9. Codex êµ¬í˜„ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [x] `@Component` ì–´íŠ¸ë¦¬ë·°íŠ¸, `Meta`/`UI` ë ˆì´ì–´
- [x] `self._T.GRUtil` ì‚¬ìš© (BootstrapUtil ê²½ìœ , ì¤‘ë³µ ìœ í‹¸ ê¸ˆì§€)
- [x] `[server only]` / `[client only]` ë¶„ë¦¬
- [x] `nil`/`isvalid` ë°©ì–´ + `pcall` ë³´í˜¸
- [x] **Maker ë°°ì¹˜ í•­ëª©ì„ ë°±ë¡œê·¸ë¡œ ë¶„ë¦¬**
- [x] `ê¸°íšì„œ/4.ë¶€ë¡/Code_Documentation.md` ì—…ë°ì´íŠ¸
- [x] ì™„ë£Œ í›„ ìƒíƒœ `ğŸŸ¢ ì™„ë£Œ`ë¡œ ë³€ê²½

---

## 10. Maker ìˆ˜ë™ ë°±ë¡œê·¸

- [ ] `GRRankingText`/`GRMyRankText` í‘œì‹œì™€ ë­í‚¹ ìŠ¤ëƒ…ìƒ· ê°±ì‹ ì„ Maker Playì—ì„œ ìµœì¢… í™•ì¸

---

## ë©”íƒ€ ì •ë³´

| í•­ëª© | ë‚´ìš© |
|---|---|
| **ì‘ì„±ì** | Antigravity (TD) |
| **ë‹´ë‹¹ì** | Codex |
| **ì‘ì„±ì¼** | 2026-02-18 |
| **ìƒíƒœ** | ğŸŸ¢ ì™„ë£Œ |

